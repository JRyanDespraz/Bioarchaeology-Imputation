#FAMD imputation
library(missMDA)

#calculate the number of components
ncp.FAMD <- estim_ncpFAMD(dataset)
#Impute: 
imputed_FAMD <- imputeFAMD(dataset, ncp = ncp.FAMD$ncp, seed = 99, maxiter = 1000)

#get the matrix with $completeObs
final_imputed_dataset <- imputed_FAMD$completeObs


# Calculations used for comparing an imputed dataset to an original dataset
library(missMethods)
# These calculations are only for categorical data, therefore these rows/columns need to be specified
categ.precision <- evaluate_imputed_values(final_imputed_dataset[], original_dataset[], criterion = "precision")
nr_equal <- evaluate_imputed_values(final_imputed_dataset[], original_dataset[], criterion = "nr_equal")
res.MAE <- evaluate_imputed_values(final_imputed_dataset[], original_dataset[], criterion = "MAE")

# These calculations are only for quantitative data, therefore these rows/columns need to be specified
NRMSE_col_mean_sq <- evaluate_imputed_values(final_imputed_dataset[], original_dataset[], criterion = "NRMSE_col_mean_sq")
NRMSE_tot_sd <- evaluate_imputed_values(final_imputed_dataset[], original_dataset[], criterion = "NRMSE_tot_sd") 
